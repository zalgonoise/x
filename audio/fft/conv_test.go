package fft_test

import (
	"testing"

	"github.com/zalgonoise/x/audio/fft"
)

var (
	testSineWave = []float64{
		0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809,
		0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299,
		-0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298,
		-0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266,
		0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541,
		0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075, -0.533524582659383,
		-0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408, -0.9143955809198279,
		-0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543,
		0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849, 0.9114963225196081,
		0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346, -0.27423932615131075,
		-0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171, -0.9913022247993408,
		-0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0, 0.28110599078341014,
		0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877, 0.9903561510055849,
		0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575, 0.007110812707907346,
		-0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887, -0.9882808923612171,
		-0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692, -0.2947477645191809, 0,
		0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365, 0.989349040192877,
		0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499, 0.2879116183965575,
		0.007110812707907346, -0.27423932615131075, -0.533524582659383, -0.749778740806299, -0.9055452131717887,
		-0.9882808923612171, -0.9913022247993408, -0.9143955809198279, -0.7637256996368298, -0.5514694662312692,
		-0.2947477645191809, 0, 0.28110599078341014, 0.5395367290261543, 0.7544480727561266, 0.9085360271004365,
		0.989349040192877, 0.9903561510055849, 0.9114963225196081, 0.7591174047059541, 0.5455183568834499,
		0.2879116183965575, 0.007110812707907346,
	}
)

func goDSPToComplex(x []float64) []complex128 {
	y := make([]complex128, len(x))
	for n, v := range x {
		y[n] = complex(v, 0)
	}
	return y
}

// BenchmarkConv compares the ToComplex implementations from
// https://github.com/mjibson/go-dsp/blob/master/dsputils/dsputils.go ; and my implementation. In this scenario,
// I am prioritizing performance over readability
//
// ❯ go test -bench . -benchmem -benchtime=5s -cpuprofile /tmp/cpu.pprof ./fft
//
// goos: linux
// goarch: amd64
// pkg: github.com/zalgonoise/x/audio/wav/fft
// cpu: AMD Ryzen 3 PRO 3300U w/ Radeon Vega Mobile Gfx
// BenchmarkConv/Library-4                  1000000              5857 ns/op           16384 B/op          1 allocs/op
// BenchmarkConv/Fast-4                     1000000              5626 ns/op           16384 B/op          1 allocs/op
func BenchmarkConv(b *testing.B) {
	b.Run("Library", func(b *testing.B) {
		var c []complex128
		for i := 0; i < b.N; i++ {
			c = goDSPToComplex(testSineWave)
		}
		_ = c
	})
	b.Run("Fast", func(b *testing.B) {
		var c []complex128
		for i := 0; i < b.N; i++ {
			c = fft.ToComplex(testSineWave)
		}
		_ = c
	})
}
